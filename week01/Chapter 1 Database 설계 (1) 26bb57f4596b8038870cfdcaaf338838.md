# Chapter 1. Database 설계 (1)

<aside>
🚨 **주의사항!**

이번 1주차에서는 기본적인 **DDL, DML은 알고 계신다는 전제**로 시작하며, 서버 파트의 모집 자체를 **DB에 대한 사전 지식이 있는 분**을 모집했기에, 정말 기본적인 DB 용어 (외래키, 관계형 데이터베이스, 기본 키 등등)는 참고 링크만 드릴 예정이니 준비되지 않으신 챌린저들은 꼭 공부를 하시고 1주차를 진행해주시기 바랍니다.

[🚧**워크북 이용 동의서**🚧**]
반드시 작성 후 워크북 스터디를 시작해주세요!**
https://forms.gle/EUaXpsc3Ziz7mjQn8

</aside>

## 📝 학습 목표

---

1. SQL, NoSQL에 대해 알아본다.
2. Database 설계를 어떻게 하는 것이 좋은지 이해한다.
3. 로컬 DB를 설치하여 연결 해본다.

## 📸 잠깐 ! 스터디 인증샷은 찍으셨나요?📸

---

* 스터디리더께서 대표로 매 주차마다 한 장 남겨주시면 좋겠습니다!🙆💗
 (사진을 저장해서 이미지 임베드를 하셔도 좋고, 복사+붙여넣기 해서 넣어주셔도 좋습니다!)

![IMG_4093.JPEG](Chapter%201%20Database%20%EC%84%A4%EA%B3%84%20(1)%2026bb57f4596b8038870cfdcaaf338838/IMG_4093.jpeg)

## 📑 1주차 주제

---

이번 주차는 이제 **백엔드 서버의 핵심**인
**데이터베이스를 어떻게 설계하는 것이 좋을까?** 이를 고민하고,

요구 사항 몇 가지와 함께
**이런 상황에서 어떻게 설계를 하는 것이 좋을 지**를 다루는 것이 **주 내용**입니다.

이번 주차의 주제인 데이터베이스를 **직접 설계해보는 것**이 매우 중요하니,
미션을 통해 설계를 해보며 **스스로 익히는 것이 중요한 주차**입니다!

> **이번 주차 요약**
> 
> - **데이터베이스를 어떻게 설계**하는 것이 좋을까?
> - **이런 상황에서는 어떻게 설계**하는 것이 좋을까?
> - **직접 데이터베이스를 설계해보자!**

- **참고 자료 (기초 지식 등)**
    
    [MySQL- 구조와 테이블 생성](https://jominseoo.tistory.com/48)
    
    [[MYSQL] 📚 기본 SQL문법 정리 (테이블 조회, 생성, 수정, 삭제)](https://inpa.tistory.com/entry/MYSQL-%F0%9F%93%9A-%EA%B8%B0%EB%B3%B8-SQL%EB%AC%B8-%EC%A0%95%EB%A6%AC-%ED%85%8C%EC%9D%B4%EB%B8%94-%EC%A1%B0%ED%9A%8C-%EC%83%9D%EC%84%B1-%EC%88%98%EC%A0%95-%EC%82%AD%EC%A0%9C)
    
    [[MYSQL] 📚 테이블 조인(JOIN) - 그림으로 알기 쉽게 정리](https://inpa.tistory.com/m/entry/MYSQL-%F0%9F%93%9A-JOIN-%EC%A1%B0%EC%9D%B8-%EA%B7%B8%EB%A6%BC%EC%9C%BC%EB%A1%9C-%EC%95%8C%EA%B8%B0%EC%89%BD%EA%B2%8C-%EC%A0%95%EB%A6%AC)
    
    [[MYSQL] 📚 서브쿼리 개념 & 문법 💯 정리](https://inpa.tistory.com/m/entry/MYSQL-%F0%9F%93%9A-%EC%84%9C%EB%B8%8C%EC%BF%BC%EB%A6%AC-%EC%A0%95%EB%A6%AC)
    
    [ERD, 어떻게 설계하는 걸까?](https://mslilsunshine.tistory.com/164)
    
    [📋 데이터 모델링 개념 & ERD 다이어그램 작성 💯 총정리](https://inpa.tistory.com/entry/DB-📚-데이터-모델링-1N-관계-📈-ERD-다이어그램)
    
    [ERD 세부 개념과 작성 방법](https://velog.io/@doohyunlm/DB-ERD-작성-방법)
    

## 📑 1주차 본문 들어가기 전

---

본격적인 데이터베이스 설계에 들어가기 전, 먼저 생각해 보아야 할 것은 SQL과 NOSQL입니다.

SQL은 Stands for Structured Query의 약자로 주로 관계형 데이터 베이스에 이용이 되고

NoSQL은 Not Only SQL의 약자로 SQL이 아닌 나머지를 의미합니다. 

밑에 더 자세히 설명하여 볼게요!

## SQL

SQL은 Structured Query Language의 약자로 관계형 데이터베이스를 사용하는 시스템에서 데이터를 관리하는 데 사용되는 언어입니다. 

입출력 속도 보다는 정확도와 입출력이 중요할 때 적합하며 데이터가 일관되고 테이블 간의 관계가 잘 정의된 구조화된 데이터에 좋습니다. 

주요 SQL 쪽의 데이터베이스 시스템으로는 MySQL, PostgreSQL, Oracle Database 등이 존재합니다.

- **MySQL, PostgreSQL, Oracle Database의 차이는 뭘까? 같은 SQL인데 그게 그거 아닌가?**
    
    혹시 이 셋의 차이에 대해서는 생각해본 적 있으신가요? 한번 간단하게 비교해 보겠습니다.
    
    ### MySQL
    
    - 장점: 오픈 소스이고 무료로 사용이 가능합니다. 빠른 읽기 및 쓰기 성능을 제공하며, 특히 웹 애플리케이션에 많이 사용됩니다. 업데이트 성능도 뛰어나고, **단순한 데이터 트랜잭션**에 적합합니다. 또한 커뮤니티와 지원이 활발해 문제가 생겼을 때 빠르게 해결할 수 있는 참고자료들이 많다는 장점이 있습니다.
    - 단점: 복잡한 쿼리와 **복잡한 트랜잭션 처리에 취약**하다는 단점이 있습니다. Nested Loop Join(바깥 테이블의 처리 범위를 하나씩 접근하면서 추출된 값으로 안쪽 테이블을 조인하는 방식)만을 지원하는데 이는 데이터가 커졌을 때 성능 문제를 야기할 수 있습니다.
    
    ### **PostgreSQL**
    
    - 장점: PostgreSQL도 오픈 소스이고, 다양한 조인 방식을 지원하여 복잡한 데이터베이스 쿼리에서 강력한 성능을 보여줍니다. **ACID** 준수 및 데이터 무결성 검증이 뛰어나고, 복잡한 트랜잭션과 **대규모 데이터베이스**에서 유리합니다. 또한 **JSON 지원** 등 최신 기술도 잘 지원합니다.
    - 단점: Update 성능이 떨어진다는 단점이 있습니다. 데이터를 수정할 때 기존 데이터를 삭제하고 새로운 데이터를 삽입하는 방식으로 작동하기 때문에, 대용량 데이터 처리 시 성능 저하가 발생할 수 있습니다.
    
    ### **Oracle Database**
    
    - 장점: **고성능**, **확장성** 및 **보안**이 뛰어나며, 트랜잭션 처리가 매우 효율적입니다. 또한 **대규모 엔터프라이즈 시스템**에서 많이 사용되며, 복잡한 쿼리 및 트랜잭션 처리에 매우 강합니다. **분산 처리**와 **고급 기능**이 많고, Partitioning, Clustering 과 같은 고급 기능도 지원하여 매우 유연하고 강력한 시스템을 구축할 수 있습니다.
    - 단점: 가장 큰 단점은 **비용**입니다. 상용 라이센스가 필요하고 가격이 비쌉니다. 또한 설치와 관리가 복잡하고, 특정 기능에 대한 이해와 사용까지 오랜 시간이 걸릴 수도 있습니다. 단순한 데이터베이스 관리와는 달리, 고급 기능을 잘 활용하기 위해서는 전문 지식이 필요합니다.
    
    간단하게나마 비교해 본다면 이 정도가 될 것 같습니다. 
    
    장단점을 잘 비교해 보고, 본인의 상황에 맞는 도구를 고르시면 됩니다.  
    

![SQL이 쓰이는 관계형 데이터베이스 구조](Chapter%201%20Database%20%EC%84%A4%EA%B3%84%20(1)%2026bb57f4596b8038870cfdcaaf338838/image.png)

SQL이 쓰이는 관계형 데이터베이스 구조

## NoSQL

NoSQL은 Not Only SQL의 약자로 SQL을 사용하지 않는 DBMS들을 의미합니다. 

NoSQL 쪽의  데이터베이스는 key-value, document, graph 등 다양한 데이터 구조를 지원하기에 데이터가 미리 정의된 스키마를 따르지 않고 데이터 요소 간의 관계가 잘 정의되어 있지 않은 반정형 또는 비정형 데이터에 적합합니다. 

주요 NoSQL 쪽의 데이터베이스 시스템으로는 MongoDB, Redis, neo4j, DynamoDB 등이 존재합니다.

![key-value 구조](Chapter%201%20Database%20%EC%84%A4%EA%B3%84%20(1)%2026bb57f4596b8038870cfdcaaf338838/key-value.png)

key-value 구조

![NoSQL 중 가장 많이 쓰이는 Document 구조 (MongoDB)](Chapter%201%20Database%20%EC%84%A4%EA%B3%84%20(1)%2026bb57f4596b8038870cfdcaaf338838/%25EC%25BA%25A1%25EC%25B2%2598.png)

NoSQL 중 가장 많이 쓰이는 Document 구조 (MongoDB)

SQL과 NoSQL 중 어느 것을 사용해야 할까요?

정답은 없습니다.

SQL과 NoSQL은 서로 다른 장단점을 가지며, 프로젝트의 요구 사항에 맞춰 적절한 데이터베이스 유형을 선택하는 것이 중요합니다. 

저희는 가장 보편적으로 사용 되는 SQL을 기준으로 진행해보겠습니다!

## 🔖 1주차 본문

---

### 🛠️ 데이터베이스 설계하기

<aside>
💡

데이터베이스는 언제, 어떻게 설계하는지 한번 알아봅시다. 

</aside>

[ Chapter 1. Database 설계- 데이터베이스 기초](Chapter%201%20Database%20%EC%84%A4%EA%B3%84%20(1)%2026bb57f4596b8038870cfdcaaf338838/Chapter%201%20Database%20%EC%84%A4%EA%B3%84-%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%20%EA%B8%B0%EC%B4%88%2026bb57f4596b8169ab11fc454bcde56c.md)

### 💾 로컬 DB 세팅하기

<aside>
💡

로컬 DB를 한번 직접 세팅해봅시다. 

</aside>

[Chapter 1. Database 설계- 로컬 DB 세팅하기](Chapter%201%20Database%20%EC%84%A4%EA%B3%84%20(1)%2026bb57f4596b8038870cfdcaaf338838/Chapter%201%20Database%20%EC%84%A4%EA%B3%84-%20%EB%A1%9C%EC%BB%AC%20DB%20%EC%84%B8%ED%8C%85%ED%95%98%EA%B8%B0%2026bb57f4596b81ffbbc2dca0e140c4c9.md)

# 🎯 핵심 키워드

---

<aside>
💡 주요 내용들에 대해 조사해보고, 자신만의 생각을 통해 정리해보세요!
레퍼런스를 참고하여 정의, 속성, 장단점 등을 적어주셔도 됩니다.
조사는 공식 홈페이지 **Best**, 블로그(최신 날짜) **Not Bad**

</aside>

- 외래키
    
    한 테이블에서 다른 테이블의 기본키를 참조하여 사용하는 키를 의미.
    다른 테이블의 키를 참조함으로써 테이블 간의 관계를 나타내는데 사용한다.
    이를 이용해 데이터의 무결성을 유지한다. 포린키, FK등으로 불리운다.
    
- 기본키
    
    테이블내에서 데이터를 구분하기 위해서 사용하는 중복되지 않는 식별자.
    주키, 프라이머리 키, PK등으로 불리운다. 유일성과 최소성을 가짐
    
- ER 다이어그램
    
    데이터 베이스 구조를 어떻게 작성할지 도식화 한 다이어그램
    
- 복합 키
    
    두개 이상의 컬럼을 묶어서 기본키처럼 활용하는 것을 의미한다. 기본적으로 기본키 역할을 하는 것이므로 유일성과 최소성을 가져야 한다.
    
- 연관관계
    
    상호 연관성이 있는 상태
    관계는 엔티티간의 연관성을 표현하기 때문에 엔 티티의 정의에따라 영향을 받기도 하고, 속성 정의 및 관계의 정의에 따라서도 다양하게 변할 수 있다.
    
- 정규화
    
    [정보처리 실기_데이터베이스06강_정규화](https://youtu.be/RXQ1kZ_JHqg?si=f0OPsoOWnJXSbqca)
    
    제 1 정규형(1NF):
    테이블에 속한 모든 속성(컬럼)이 같은 도메인의 원자값으로만 구성되어져 있어야한다.
    예를들어 각 이용자가 선호하는 음식 타입을 테이블에 기록한다고 할때 홍길동, 한식/중식/일식 이렇게 한 레코드로 몰아서 저장할수도 있을것이다. 그러나 이럴경우 나중에 중식을 좋아하는 인원을 검색해야할때 SQL의 Like문을이용해서 검색해야하므로 성능상에도 좋지 않다. 따라서 한 레코드에는 하나의 정보만 가져야한다. 즉 원자값으로만 이루어져야 한다는 것이다. 따라서 (홍길동, 한식),(홍길동,중식),(홍길동,일식) 이렇게 저장하여야 한다.
    
    제 2 정규형(2NF):
    기본키가 아닌 모든 속성이 기본키에 완전 함수 종속, 즉 연관이 있는 데이터만이 테이블 컬럼으로 존재해야하는 것이다. 예를 들어 각 인원 별로 선호하는 음식에 각 사용자별 나이 정보가 같이 들어있다고 할때 나이 정보는 기본키와 전혀 연관이 없는 컬럼이므로 제 2 정규형을 만족하지 못하는 테이블이 되어버리므로 두개의 테이블로 나누어 나이정보를 담은 테이블, 선호 음식 정보를 담은 테이블을 분리하여 기록함으로써 제 2 정규형을 만족시킬 수 있다.
    
    제 3 정규형(3NF):
    
    테이블의 컬럼 중에서 기본키를 제외한 일반 컬럼에만 연관이 있는 컬럼이 존재하는 경우 제 3 정규형을 만족하지 않는 것으로 본다. 예를 들면 각 인원별 선호 음식에 해당 타입의 대표 음식 정보를 넣으면 제 3 정규형을 만족하지 않는 것이 된다. 이 경우에도 각 인원 별 선호 음식 테이블과 각 타입별 대표 음식 정보 테이블을 나눔으로써 제 3 정규형을 만족하도록 만들 수 있다.
    
    BCNF (Boyce-Codd Normal Form):
    
    주로 다중 후보키와 관련된 테이블에서 발생하며, 기본적으로 제 3 정규형을 만족해야하고, 후보키가 아닌 집합이 결정자가 되어서는 안된다. 예를들어 선호 음식 정보를 담은 테이블에서 ID값과 이름은 기본키가 될 수 있으므로 후보키가 될수있다. 그러나 이때 만약 선호하는 음식의 판매자를 담은 컬럼이 추가 로 존재하면 해당 컬럼을 보고 어떤 음식을 파는지 추측이 가능해지므로 BCNF 정규형을 만족하지 않는 상태가 된다.
    
    제 4 정규형(4NF):
    
    한 테이블에 서로 독립적인 반복 집합이 둘 이상 존재할때 이를 분해해야한다는 정규형이다. 예를들어 인원별 선호하는 음식 타입에 그래서 배달을 시켰을때 배달번호를 넣는다고 할때 ID값이 음식타입과 배달 번호 컬럼 동시에 다치 종속이 이루어짐으로써 중복성이 발생하므로 이는 제 4 정규형을 만족하지 않는 것이 된다. 인원 별로 선호하는 음식을 담은 레코드가 총 3개이고 배달번호는 한사람이 선호하는 음식정보가 2개가 있어서 최종적으로 배달은 한번에 이루어져 배달 번호 정보는 두개라고 했을때 6개의 행이 생겨서 불필요한 조합이 발생하게 되어 두 테이블로 분해해야하는 것이다.
    
    제 5 정규형(5NF):
    
    먼저 제 4 정규형을 만족해야하고 조인 종속성이 존재하지 않아야 하고 조인 연산을 했을때 손실이 없어야한다. 조인 종속성이란 테이블을 위와 같은 방법들로 분해하고 조인 연산을 할때 불필요한 데이터가 생기거나 데이터가 손실 되는 것을 의미한다.
    
- 반 정규화
    
    이름에서 볼 수 있듯이 정규화의 반대 개념으로 시스템의 성능 향상과 개발과 운영의 단순화를 위해 중복, 통합, 분리 등을 수행하는 데이터 모델링의 기법이다. 정규화를 진행하면 데이터를 조회하기위해서 여러 테이블을 참조해야하는 경우가 많아지므로 성능적으로 손해를 볼 수 있다 따라서 성능에 민감한 기능을 구현해야하는 도메인이 있다고 할때 반정규화를 진행해볼 수 있다. 정규화와 반대로 테이블을 병합해서 중복을 허용토록 만들던가 미리 값을 계산하여 칼럼에 보관하는 파생 컬럼을 만들든가 하는 등의 여러 방법론이 존재한다.
    

## 📢 학습 후기

---

- 이번 주차 워크북을 해결해보면서 어땠는지 회고해봅시다.
- 핵심 키워드에 대해 완벽하게 이해했는지? 혹시 이해가 안 되는 부분은 뭐였는지?

<aside>
💡

</aside>

## ⚠️ 스터디 진행 방법

---

1. 스터디를 진행하기 전, 워크북 내용들을 모두 채우고 스터디에서는 서로 모르는 내용들을 공유해주세요.
2. 미션은 워크북 내용들을 모두 완료하고 나서 스터디 전/후로 진행해보세요.
3. 다음주 스터디를 진행하기 전, 지난주 미션을 서로 공유해서 상호 피드백을 진행하시면 됩니다.

## ✅ 실습 체크리스트

---

- [x]  데이터베이스 설계하기
- [x]  로컬 DB 세팅하기

## ☑️ 실습 인증

---

![image.png](Chapter%201%20Database%20%EC%84%A4%EA%B3%84%20(1)%2026bb57f4596b8038870cfdcaaf338838/image%201.png)

## 🔥 미션

---

- **미션 자료**
    
    <aside>
    🚨 ❗**해당 자료는 챌린저분들의 미션을 위해 Plan 파트에서 제공해준 자료로,
    미션 외의 용도로 사용하는 것 및 유출을 절대 금합니다.**❗
    
    **❗아래 IA&WF 사진 및 for_UMC.fig 파일 및 파일 속 내용의 저작권은 모두 5th UMC Plan 파트장 아크(박승민)에게 있음을 밝힙니다.❗**
    
    </aside>
    
    - IA&WF 사진 파일
        
        아래 사진 외에도 첨부드린 사진에 해당하는 피그마 파일이 존재하니
        사진을 통해 보기 어려우시다면 피그마 파일을 이용해주세요!
        
        ![IA](Chapter%201%20Database%20%EC%84%A4%EA%B3%84%20(1)%2026bb57f4596b8038870cfdcaaf338838/for_UMC.png)
        
        IA
        
        ![WF](Chapter%201%20Database%20%EC%84%A4%EA%B3%84%20(1)%2026bb57f4596b8038870cfdcaaf338838/for_UMC%201.png)
        
        WF
        
    
    [for_UMC.fig](Chapter%201%20Database%20%EC%84%A4%EA%B3%84%20(1)%2026bb57f4596b8038870cfdcaaf338838/for_UMC.fig)
    
1. 주어진 IA(기획 플로우)와 와이어 프레임(디자인 프로토타입)을 보고 직접 데이터베이스를 설계해오기, 위에서 언급한 경우를 다 적용해서 할 것
2. 이름 글자 수 등 세부적인 부분은 원하는 대로 해도 됨!
3. 각 지역 별로 가게들이 있으며 가게를 방문하는 미션을 해결하며 포인트를 모으는 서비스
    1. 모든 지역마다 10개의 미션 클리어시 1000 point 부여로 고정

**최소한 로그인/회원가입, 미션, 홈 화면에 필요한 데이터는 설계를 해야함, 되어있지 않다면 원 아웃**

***미션 난이도 완화를 위해 지도 검색 기능 전부 pass, 저 부분은 설계 하지 마세요***

***내 포인트 관리, 알림 부분도 설계하지 마세요***

***사장님이 자신의 점포 관리하는 부분도 설계 대상에서 제외입니다.***

물론 원하시면 하셔도 됩니다. 😉

**< 시니어 미션 >**

[시니어 미션](Chapter%201%20Database%20%EC%84%A4%EA%B3%84%20(1)%2026bb57f4596b8038870cfdcaaf338838/%EC%8B%9C%EB%8B%88%EC%96%B4%20%EB%AF%B8%EC%85%98%2026bb57f4596b81cb8c04c3230ee1c081.md)

## 💪 미션 기록

---

<aside>
🍀 미션 기록의 경우, 아래 미션 기록 토글 속에 작성하시거나, 페이지를 새로 생성하여 해당 페이지에 기록하여도 좋습니다!

하지만, 결과물만 올리는 것이 아닌, **중간 과정 모두 기록하셔야 한다는 점!** 잊지 말아주세요.

</aside>

- **미션 기록**
    
    ## ERD 설계도
    
    ![UMC 9th Node.js.png](Chapter%201%20Database%20%EC%84%A4%EA%B3%84%20(1)%2026bb57f4596b8038870cfdcaaf338838/UMC_9th_Node.js.png)
    

## ⚡ 트러블 슈팅

---

<aside>
💡 실습하면서 생긴 문제들에 대해서, **이슈 - 문제 - 해결** 순서로 작성해주세요.

</aside>

<aside>
💡 스스로 해결하기 어렵다면? 스터디원들에게 도움을 요청하거나 **너디너리의 지식IN 채널에 질문**해보세요!

</aside>

- ⚡이슈 작성 예시 (이슈가 생기면 아래를 복사해서 No.1, No.2, No3 … 으로 작성해서 트러블 슈팅을 꼭 해보세요!)
    
    **`이슈`**
    
    👉 앱 실행 중에 노래 다음 버튼을 누르니까 앱이 종료되었다.
    
    **`문제`**
    
    👉 노래클래스의 데이터리스트의 Size를 넘어서 NullPointException이 발생하여 앱이 종료된 것이었다. 
    
    **`해결`**
    
    👉  노래 다음 버튼을 눌렀을 때 데이터리스트의 Size를 검사해 Size보다 넘어가려고 하면 다음으로 넘어가는 메서드를 실행시키지 않고, 첫 노래로 돌아가게끔 해결
    
    **`참고레퍼런스`**
    
    - 링크
- ⚡이슈 No.1
    
    **`이슈`**
    
    👉 [트러블이 생긴 상태 작성]
    
    **`문제`**
    
    👉 [어떤 이유로 해당 이슈가 일어났는지 작성]
    
    **`해결`**
    
    👉  [해결 방법 작성]
    
    **`참고레퍼런스`**
    
    - [문제 해결 시 참고한 링크]

## 🤔 참고 자료

[1주차](Chapter%201%20Database%20%EC%84%A4%EA%B3%84%20(1)%2026bb57f4596b8038870cfdcaaf338838/1%EC%A3%BC%EC%B0%A8%2026bb57f4596b818ea32ddbc59f32de14.csv)

---

Copyright © 2023 최용욱(똘이) All rights reserved.

Copyright © 2024, 2025 김준환(제이미) All rights reserved.