# 시니어 미션

- [x]  일반(주니어) 미션에서 제외되었던 부분까지 ERD를 설계해 주세요. 지도 검색, 내 포인트 관리, 알림, 사장님의 자신의 점포 관리하는 부분이 포함됩니다.
    - 어떻게 설계하였는지 간단하게 정리하여 주세요. ERD 자체를 첨부해 주셔도 좋습니다.
        
        ![UMC 9th Node.js.png](%EC%8B%9C%EB%8B%88%EC%96%B4%20%EB%AF%B8%EC%85%98%2026bb57f4596b81cb8c04c3230ee1c081/UMC_9th_Node.js.png)
        
- [x]  미션 자료로 제공된 피그마를 보고 ERD를 설계한 후 제 1,2,3 정규화를 통해 제 1,2,3 정규형을 만들고 각각 중복된 데이터가 어떻게 변화하였고 어떠한 이점이 있었는 지 작성하여 주세요
    - 내용들을 간단하게 정리하여 주세요
        
        이미 적정 수준으로 정규화가 되어 있는 수준이여서 기존에 설계할떄 어떤 정규화 기법으로 설계하였는지 간단하게 기술하겠습니다.
        
        - 유저테이블과 유저 선호 음식 타입을 제 3 정규화를 기반으로 별도의 테이블로 분리하였고, 제 1 정규형의 기법에 의거하여 유저가 선택한 복수의 선호 음식 타입을 각각의 레코드로 추가하도록 설계하였습니다.
        - 리뷰, 문의, 프로필에는 사진을 추가할 수 있는데 기능에 따라서는 복수의 사진을 추가할수있어 각 테이블에 사진 컬럼을 넣기에는 제 1정규화와 제 2정규화에 어긋나기때문에 사진만을 위한 별도의 테이블을 1차적으로 만들고 리뷰, 문의, 프로필 기능에 각각 사진들을 매칭할 수 있는 총 3개의 매핑 테이블을 추가로 만들어서 설계하였습니다.

- [x]  피그마의 홈 부분에서 한 사람이 “미션 도전!” 버튼을 빠르게 여러 번 눌렀을 때 여러 가지 이유(비동기 로직 등)로 요청이 지연되어 완전히 처리하기 전 두 번 요청이 들어갈 수 있습니다. 이를 해결할 수 있는 방법에 대해 작성하여 주세요 (ERD 직접적으로 관련이 있기보다는 설계할 때 한번쯤 고민해보면 좋을 것 추가시켜 놓았습니다) (다양한 방법이 있으니 찾아봐 주세요)
    - 내용들을 간단하게 정리하여 주세요
        
        일단 일차적으로는 프론트 단에서 미션 도전 버튼을 눌러 작업이 시작되었을때 별도의 state(상태)를 생성하여 작업 진행중 상태를 기록하도록 하고, 다시 버튼을 눌렀을때 작업이 진행중이라면 버튼 입력을 무시하도록 구현하는 것이 가장 간단한 방법일 것 같습니다. 이와 더불어 프론트에서 작업중 상태가 true가 되었을때 버튼을 비활성화하고 로딩화면을 보여주도록 구현하는게 좋을 것 같습니다. 별도로 서버측에서 너무 짧은 시간에 빈번한 요청이 발생하는 것을 막는 용도로 일종의 쿨타임(가칭) 기능을 구현하는 것도 좋을 것 같습니다. 예를들어 쿨타임이 1초라면 버튼이 연속으로 눌려 요청이 여러번 발생했을때 1초보다 짧은 중복 요청은 이를 무시하도록 별도의 유효성 검증 레이어를 만들어도 좋을 것 같습니다.
        마지막으로 이 두 방법에도 예외가 발생할 것을 대비하여 미션 시작 버튼을 눌렀을때 미션이 미 시작된 미션에 대해서는 별도의 컬럼에 표식을 남겨 다시 동일한 요청이 발생해도 이미 시작된 미션이라는 에러메시지를 반환하도록 서버단에서 구현하는 것도 좋을 것 같습니다.
        

정리된 글을 바탕으로 블로그를 작성하여 주세요

https://hoshi2710.github.io/umc/umc-9th-nodejs-week01.html